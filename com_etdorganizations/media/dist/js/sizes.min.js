/**!
 * @package     @etd-framework/etdorganizations
 *
 * @version     1.2.1
 * @copyright   Copyright (C) 2017 - 2018 ETD Solutions. Tous droits réservés.
 * @license     GNU General Public License v3 
 * @author      ETD Solutions http://etd-solutions.com
*/
function initSizes(a,b){var c=jQuery("#"+a);index=b,jQuery("#"+a+"_add").on("click",function(b){index++;var d='<div class="size" id="'+a+"_"+index+'">';d+='<div class="inner">',d+='<div class="row-fluid">',d+='<input type="text" name="tmp_sizes['+index+'][name]" class="span3" value="" placeholder="Nom"> ',d+='<input type="text" name="tmp_sizes['+index+'][height]" class="span3" value="" placeholder="Hauteur max"> ',d+='<input type="text" name="tmp_sizes['+index+'][width]" class="span3" value="" placeholder="Largeur max"> ',d+='<label class="checkbox span2"><input type="checkbox" value="1" name="tmp_sizes['+index+'][crop]"> Rogner</label>',d+='<label class="span1"><span class="delete"><span class="icon-trash"></span></span></label>',d+="</div>",d+="</div>",c.append(d)}),jQuery(document).on("change",".sizes input",function(){updateValue(a)}),jQuery(document).on("click",".sizes .delete",function(){confirm("Êtes-vous sûr ?")&&(jQuery(this).parents(".size").remove(),updateValue(a))})}function updateValue(a){var b={},c=jQuery(".sizes > div").serializeForm();c&&jQuery.each(c.tmp_sizes,function(){this.crop||(this.crop="0"),b[this.name]=this}),console.log(JSON.stringify(b)),jQuery("#"+a+"_hidden").val(JSON.stringify(b))}!function(a){a.fn.serializeForm=function(){if(this.length<1)return!1;var b={},c=b,d=':input[type!="checkbox"][type!="radio"], input:checked',e=function(){if(!this.disabled){var d=this.name.replace(/\[([^\]]+)?\]/g,",$1").split(","),e=d.length-1,f=a(this);if(d[0]){for(var g=0;g<e;g++)c=c[d[g]]=c[d[g]]||(""===d[g+1]||"0"===d[g+1]?[]:{});void 0!==c.length?c.push(f.val()):c[d[e]]=f.val(),c=b}}};return this.filter(d).each(e),this.find(d).each(e),b}}(jQuery);var index;